<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Coding | Arto's dev time by-products</title>
<meta name=keywords content><meta name=description content="Personal ramblings about code and stuff"><meta name=author content="Arto Salminen"><link rel=canonical href=https://artosalminen.github.io/tags/coding/><link crossorigin=anonymous href=/assets/css/stylesheet.9c4f5aa85dab72ee82fc33b8dfb12a3f7459e6c1b389f9fae73095efa3ecb4d6.css integrity="sha256-nE9aqF2rcu6C/DO437EqP3RZ5sGzifn65zCV76PstNY=" rel="preload stylesheet" as=style><link rel=icon href=https://artosalminen.github.io/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://artosalminen.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://artosalminen.github.io/favicon.png><link rel=apple-touch-icon href=https://artosalminen.github.io/apple-touch-icon.png><link rel=mask-icon href=https://artosalminen.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://artosalminen.github.io/tags/coding/index.xml><link rel=alternate hreflang=en href=https://artosalminen.github.io/tags/coding/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-WNZM3KSNKG"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WNZM3KSNKG",{anonymize_ip:!1})}</script><meta property="og:title" content="Coding"><meta property="og:description" content="Personal ramblings about code and stuff"><meta property="og:type" content="website"><meta property="og:url" content="https://artosalminen.github.io/tags/coding/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Coding"><meta name=twitter:description content="Personal ramblings about code and stuff"></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://artosalminen.github.io/ accesskey=h title="Arto's dev time by-products (Alt + H)">Arto's dev time by-products</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://artosalminen.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://artosalminen.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://artosalminen.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://artosalminen.github.io/tags/>Tags</a></div><h1>Coding
<a href=index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>How to collect all npm licenses from multiple subdirectories with Powershell</h2></header><div class=entry-content><p>Install license-report (https://www.npmjs.com/package/license-report)
npm install -g license-report
run the script
Get-ChildItem -Directory | foreach { $_ >> ./licenses.csv ; license-report --output=csv --only=prod --package=./$_/package.json >> ./licenses.csv } You can use the same idea to run other stuff in subdirectories. Just replace the command. Here is an example of git pull.
Get-ChildItem -Directory -Force -Recurse *.git | ForEach-Object { cd $_.Parent.FullName; Write-Host $_.Parent.FullName; git pull }</p></div><a class=entry-link aria-label="post link to How to collect all npm licenses from multiple subdirectories with Powershell" href=https://artosalminen.github.io/posts/how-to-collect-npm-licenses-from-subdirectories/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>How to update a specified item in a nested array with Mongoose</h2></header><div class=entry-content><p>In this blog post, we’ll go over how to update a specified item in a nested array inside a Mongoose document.
##Setting up the environment
First, let’s set up the environment by creating a Mongoose schema and model. Here’s an example schema that has a nested array of items:
const mongoose = require('mongoose'); const schema = new mongoose.Schema({ items: [{ name: String, quantity: Number }] }); const Model = mongoose.model('Model', schema); ##Updating a specified item in a nested array...</p></div><a class=entry-link aria-label="post link to How to update a specified item in a nested array with Mongoose" href=https://artosalminen.github.io/posts/how-to-update-specified-item-in-nested-mongo-array-with-mongoose/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>How to Set Up a Codeserver on Synology NAS</h2></header><div class=entry-content><p>Have you ever missed the VSCode on your tablet? Now there is a solution: run the VSCode on your NAS at home and access it with a browser. That will be possible when you run the Codeserver Docker container on your NAS.
Before you do this, you probably want to set up a wildcard certificate and a proxy server on your NAS. That will enable you to access the NAS outside your local network using HTTPS....</p></div><a class=entry-link aria-label="post link to How to Set Up a Codeserver on Synology NAS" href=https://artosalminen.github.io/posts/how-to-set-up-codeserver-on-synology-nas/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>How to use ConfigService in NestJS in application bootstrap</h2></header><div class=entry-content><p>You might want to access the configuration, for example to set the microservice configuration based on the values from the configuration service.
One way to do this is to create an application context from the AppModule.
const appContext = await NestFactory.createApplicationContext(BootstrapConfigModule) const configService = appContext.get(ConfigService) const SERVICE_PORT = configService.get('SERVICE_PORT') appContext.close() But a better idea is to use a “temporary” module to avoid double instantiation of the whole app. See a full example below....</p></div><a class=entry-link aria-label="post link to How to use ConfigService in NestJS in application bootstrap" href=https://artosalminen.github.io/posts/how-to-use-config-service-in-nestjs-bootstrap/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>How to merge a nested list in Mongo document with another found in adjacent collection</h2></header><div class=entry-content><p>Let’s consider a situation where you have two collections, houses and people. Each house has a collection of key holders, which link to the persons collection with their IDs. Key holders list also holds information when the key was given for the identified person.
In bson, the situation in the database looks like this:
{ "houses": [ { "_id": ObjectId("5fba17c1c4566e57fafdcd7e"), "address": "Main street 1", "keyHolders": [ { "keyDelivered": "2022-02-02T02:02:02", "personId": "5fbb5ab778045a985690b5fc" }, { "keyDelivered": "2021-01-01T01:01:01", "personId": "5fbb5ab778045a985690b5fd" } ] }, { "_id": ObjectId("5fba17c1c4566e57fafdcd7f"), "address": "Broadway 3", "keyHolders": [ { "keyDelivered": "1993-03-03T03:03:03", "personId": "5fbb5ab778045a985690b5fc" } ] } ], "persons": [ { "_id": ObjectId("5fbb5ab778045a985690b5fc"), "name": "Jack Bauer", }, { "_id": ObjectId("5fbb5ab778045a985690b5fd"), "name": "James Bond", } ] } You can also do some mapping for the source list, for instance convert foreign keys from strings to ObjectIds....</p></div><a class=entry-link aria-label="post link to How to merge a nested list in Mongo document with another found in adjacent collection" href=https://artosalminen.github.io/posts/how-to-merge-nested-list-to-collection-with-mongo-aggregate/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://artosalminen.github.io/tags/coding/>«&nbsp;Prev&nbsp;</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://artosalminen.github.io/>Arto's dev time by-products</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>